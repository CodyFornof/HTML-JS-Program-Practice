<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <title>World Clock</title>
    <link rel="shortcut icon" type="image/x-icon" href="https://i.ibb.co/2KF04FZ/personal-logo-3.jpg"/>
    <style>
        #container {
            height: 90vh;
            width: 90vw;
            background-color: #292929;
            display:flex;
            flex-direction: row;
            justify-content: center;
            align-items: center;
            margin: auto;
        }
        #cardContainer {
          background-color: #424242;
          height: 15vh;
          width: 25vw;
          display:flex;
          flex-direction: column;
          align-items: center;
          margin: 1vh;;
          border: solid 0.2vw white;
        }
        #timeTitle {
          color: #D1D1D1;
          font-size: 1.8vw;
          font-family: arial;
          font-weight: bold;
          margin: auto;
        }
        .time {
          color: #D1D1D1;
          font-size: 1.8vw;
          margin: auto;
        }
    </style>
  </head>
  <body>
    <div id="container">
        <table>
          <tbody id="cardContainer">
            <tr>
              <td id="timeTitle">London</td>
            </tr>
            <tr>
              <td class="time" data-zone="Europe/London"></td>
            </tr>
        </tbody>
        <tbody id="cardContainer">
          <tr>
            <td id="timeTitle">Dubai</td>
          </tr>
          <tr>
            <td class="time" data-zone="Asia/Dubai"></td>
          </tr>
      </tbody>
      <tbody id="cardContainer">
        <tr>
          <td id="timeTitle">Los Angeles</td>
        </tr>
        <tr>
          <td class="time" data-zone="America/Los_Angeles"></td>
        </tr>
      </tbody>
        </table>

        <table>
          <tbody id="cardContainer">
            <tr>
              <td id="timeTitle">Tokyo</td>
            </tr>
            <tr>
              <td class="time" data-zone="Asia/Tokyo"></td>
            </tr>
        </tbody>
        <br>
        <tbody id="cardContainer">
          <tr>
            <td id="timeTitle">New York</td>
          </tr>
          <tr>
            <td class="time" data-zone="America/New_York"></td>
          </tr>
      </tbody>
      <br>
      <tbody id="cardContainer">
        <tr>
          <td id="timeTitle">Hawaii</td>
        </tr>
        <tr>
          <td class="time" data-zone="Pacific/Honolulu"></td>
        </tr>
      </tbody>
        </table>
    </div>

    <script>

        let date = new Date();

        function timeZoneFormat (date, zone){
          let dtFormat = new Intl.DateTimeFormat('en', {
            hour: '2-digit',
            hour12: true,
            minute: '2-digit',
            second: '2-digit',
            timeZone: zone,
          });

          //getting these formats values = dates, when dates is plugging in each part to a single value
        let {hour, minute, dayPeriod} = dtFormat.formatToParts(date).reduce((parts, part) => {
          //Getting where in the values we want to equal the lets
            parts[part.type] = part.value;
            return parts;
        //Creates an empty object
        }, Object.create(null));
        
          return `${hour}:${minute} ${dayPeriod}`;
        }

        let d = new Date();
        document.querySelectorAll('.time').forEach(el =>
        el.textContent = timeZoneFormat(d, el.dataset.zone)
        );

        function refresh(){
          let d = new Date();
            document.querySelectorAll('.time').forEach(el =>
            el.textContent = timeZoneFormat(d, el.dataset.zone)
          );
        }

        setInterval(refresh, 1000)

    </script>
  </body>
</html>
